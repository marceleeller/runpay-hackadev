<app-header-voltar logo="../../../assets/logo.svg"></app-header-voltar>

<main
  class="main_container d-flex flex-column justify-content-center align-items-center px-4 mt-3 mb-4"
>
  <div class="formulario">
    <form class="justify-content-center" [formGroup]="cadastroForm">
      <h2 class="text-center">Crie a sua conta da RunPay</h2>
      <p class="text-center">
        Já possui uma conta?
        <a
          (click)="redirecionarParaLogin()"
          id="link_entrar"
          style="text-decoration: underline; font-weight: 700"
          >Entrar</a
        >
      </p>

      <!-- Formulario cpf -->
      <div *ngIf="formularioExibido == 'inicial'" class="d-flex flex-column justify-content-center gap-5">
        <div>
          <label class="form-label" >Primeiro, insira seu CPF</label>
          <input type="text" class="form-control" formControlName="cpf" [mask]="'000.000.000-00'"/>
          <span
          *ngIf="getCampo('cpf')?.dirty && getCampo('cpf')?.hasError('required')"
          class="texto-invalido"
          >CPF é obrigatório.</span
          >
          <span
            *ngIf="getCampo('cpf')?.hasError('minlength')"
            class="texto-invalido"
            >Digite um CPF válido.</span
          >
        </div>

        <div class="inicial d-flex flex-column justify-content-center align-items-center gap-3">
          <button class="btn btn-primary" (click)="mudarParaFormularioInfopessoais()" [disabled]="getCampo('cpf')?.invalid">Continuar</button>
          <p class="texto-termosdeuso text-center">Ao se cadastrar, você aceita os nossos
            <a id="link_entrar" style="text-decoration: underline; font-weight: 700">Termos de Uso</a>
            e a nossa
            <a id="link_entrar" style="text-decoration: underline; font-weight: 700">Política de Privacidade</a>
          </p>
        </div>

      </div>

      <!-- formulario info-pessoais -->
      <div *ngIf="formularioExibido == 'infopessoais'">
        <formulario-infopessoais [cadastroForm]="cadastroForm"></formulario-infopessoais>
        <div class="buttons mt-5 d-flex gap-5">
          <button class="btn btn-primary" (click)="mudarParaFormularioInicial()">
            <i class="bi bi-chevron-left"></i>
          </button>
          <button class="btn btn-primary flex-fill"  (click)="mudarParaFormularioEndereco()">Continuar</button>
        </div>
      </div >

      <div *ngIf="formularioExibido == 'endereco'">
        <formulario-endereco [cadastroForm]="cadastroForm"></formulario-endereco>
        <div class="buttons mt-5 d-flex gap-5">
          <button class="btn btn-primary" (click)="mudarParaFormularioInfopessoais()">
            <i class="bi bi-chevron-left"></i>
          </button>
          <button class="btn btn-primary flex-fill"  (click)="mudarParaFormularioSenha()">Continuar</button>
        </div>
      </div>

      <div *ngIf="formularioExibido == 'senha'">
        <formulario-senha [cadastroForm]="cadastroForm"></formulario-senha>
        <div class="buttons mt-5 d-flex gap-5">
          <button class="btn btn-primary" (click)="mudarParaFormularioEndereco()">
            <i class="bi bi-chevron-left"></i>
          </button>
          <button class="btn btn-primary flex-fill">Criar</button>
        </div>
      </div>



    </form>
  </div>
</main>
<!--
<app-footer></app-footer> -->
